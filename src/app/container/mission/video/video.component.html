<div class="container mb-4">
  <img class="img-thumbnail" src="http://fakeimg.pl/1140x300/?text=Photo Demo">
  <h3 class="mt-4">影片任務
    <button type="button" class="float-right btn btn-info" [routerLink]="['/mission/introduce']" [queryParams]="{id:missionData.id}">返回資訊</button>
  </h3>
  <h5>
    <span class="badge p-2" [ngClass]=" { 
    'badge-info': missionDetail.status == '已參加',
    'badge-primary': missionDetail.status == '已提交',
    'badge-danger': missionDetail.status == '已退回',
    'badge-success': missionDetail.status == '已審核'
  }">{{ missionDetail.status }}</span>
  </h5>
</div>

<div class="container">
  <div class="row">
    <div class="col-md-6">
      <div class="form-group text-gray">
        <i class="fa fa-youtube-play" aria-hidden="true"></i>
        <label>影片名稱</label>
        <span class="text-danger">*</span>
        <input type="text" class="form-control" [(ngModel)]="missionData.missionname" readonly>
      </div>
      <div class="form-group text-gray">
        <i class="fa fa-clock-o" aria-hidden="true"></i>
        <label>觀看日期</label>
        <span class="text-danger">*</span>
        <input *ngIf="!missionEditMode && missionDetail.starttime" class="form-control" type="text" [value]="missionDetail.starttime.formatted"
          readonly>
        <my-date-picker [hidden]="!missionEditMode" [options]="myDatePickerOptions" [(ngModel)]="missionDetail.starttime" required></my-date-picker>
      </div>
      <div class="form-group text-gray">
        <i class="fa fa-pencil-square" aria-hidden="true"></i>
        <label>心得感想</label>
        <span class="text-danger">*</span>
        <textarea class="form-control" rows="6" placeholder="請填寫心得感想" [(ngModel)]="this.missionDetail.experience" [readonly]="!missionEditMode"></textarea>
      </div>
    </div>
    <div class="col-md-6">
      <div class="form-group text-gray">
        <i class="fa fa-eye" aria-hidden="true"></i>
        <label>影片預覽</label>
        <div class="form-control embed-responsive embed-responsive-16by9">
          <iframe class="embed-responsive-item" [src]="videoUrlFrm" allowfullscreen></iframe>
        </div>
      </div>
    </div>
  </div>
  <div *ngIf="missionEditMode" class="form-group">
    <button type="button" class="btn btn-info form-control" (click)="saveMissionDetail()">提交心得</button>
  </div>
</div>
<swal #dialogSuccess title="更新成功！" type="success" [options]="{ timer : '1000' }"></swal>
<swal #dialogError title="更新失敗！" type="error" [options]="{ timer : '1000' }"></swal>
<swal #dialogErrorCheck title="資料沒有填完整唷！" type="error" [options]="{ timer : '1000' }"> </swal>
