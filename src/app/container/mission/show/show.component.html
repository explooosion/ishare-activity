<div class="container mb-4">
  <img class="img-thumbnail" src="http://fakeimg.pl/1140x300/?text=1140x300">
  <h2 class="mt-4">展演任務
    <small *ngIf="!missionEditMode"> - 檢視模式</small>
    <button type="button" class="float-right btn btn-info" [routerLink]="['/mission/introduce']" [queryParams]="{id:missionData.id}">返回資訊</button>
  </h2>
</div>

<div class="container">
  <div class="row">
    <div class="col-md-6">
      <div class="form-group text-gray">
        <i class="fa fa-star" aria-hidden="true"></i>
        <label>展覽名稱</label>
        <span class="text-danger">*</span>
        <input type="text" class="form-control" placeholder="請輸入展覽名稱" [value]="missionData.missionname" readonly>
      </div>
      <div class="form-group text-gray">
        <i class="fa fa-map-marker" aria-hidden="true"></i>
        <label>參展地點</label>
        <span class="text-danger">*</span>
        <input type="text" class="form-control" placeholder="請輸入地點" [value]="missionData.missionlocation" readonly>
      </div>
      <div class="form-group text-gray">
        <i class="fa fa-clock-o" aria-hidden="true"></i>
        <label>參展日期</label>
        <span class="text-danger">*</span>
        <input *ngIf="!missionEditMode && missionDetail.starttime" class="form-control" type="text" [value]="missionDetail.starttime.formatted"
          readonly>
        <my-date-picker [hidden]="!missionEditMode" [options]="myDatePickerOptions" [(ngModel)]="missionDetail.starttime" required></my-date-picker>
      </div>
      <div class="form-group text-gray">
        <i class="fa fa-sticky-note-o" aria-hidden="true"></i>
        <label>心得感想</label>
        <span class="text-danger">*</span>
        <textarea class="form-control" rows="6" [(ngModel)]="missionDetail.experience" [readonly]="!missionEditMode"></textarea>
      </div>
    </div>
    <div class="col-md-6">
      <!-- <div class="form-group text-gray">
          <i class="fa fa-check-square" aria-hidden="true"></i>
          <label>展覽類型</label>
          <span class="text-danger">*</span>
          <div class="form-group">
            <label class="custom-control custom-checkbox">
              <input type="checkbox" class="custom-control-input">
              <span class="custom-control-indicator"></span>
              <span class="custom-control-description">資訊</span>
            </label>
            <label class="custom-control custom-checkbox">
              <input type="checkbox" class="custom-control-input">
              <span class="custom-control-indicator"></span>
              <span class="custom-control-description">學習</span>
            </label>
          </div>
        </div> -->
      <div class="form-group text-gray">
        <div *ngIf="missionEditMode">
          <i class="fa fa-photo" aria-hidden="true"></i>
          <label>照片上傳（可拖曳圖片至內容處）</label>
          <span class="text-danger">*</span>
          <p-fileUpload #fileUpload name="photoFile[]" multiple="multiple" accept="image/*" [customUpload]="true" [showUploadButton]="false"
            (onSelect)="uploadHandler(fileUpload)" (onRemove)="uploadHandler(fileUpload)" (onClear)="uploadHandler(fileUpload)"></p-fileUpload>
        </div>
        <div *ngIf="!missionEditMode">
          <i class="fa fa-photo" aria-hidden="true"></i>
          <label>照片預覽</label>
          <div *ngFor="let p of missionPhotoList">
            <img class="img-thumbnail d-block mb-2" [src]="p">
          </div>
        </div>
      </div>
    </div>
  </div>
  <div *ngIf="missionEditMode" class="form-group">
    <button type="button" class="btn btn-info form-control" (click)="saveMissionDetail()">提交心得</button>
  </div>
</div>
<swal #dialogSuccess title="更新成功" type="success" [options]="{ timer : '1000' }"></swal>
<swal #dialogError title="更新失敗" type="error"></swal>
